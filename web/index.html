<!doctype html>
<html lang="zh">
  <head>
    <meta charset="UTF-8" />
    <meta content="never" name="referrer" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>浮声</title>
    <link href="css/styles.css" rel="stylesheet" />
    <link href="./res/logo.png" rel="icon" />
  </head>

  <body>
    <div
      id="drag-area"
      style="position: fixed; top: 0; height: 3vh; width: 100%"
    ></div>
    <div class="app dark-before">
      <div class="sidebar">
        <div class="sidebar-container">
          <div class="title" onclick="sidebar_fold()">
            <div
              style="
                width: 60px;
                height: 60px;
                padding: 5px;
                display: flex;
                justify-content: center;
                align-items: center;
              "
            >
              <img
                alt="logo"
                height="50px"
                src="./res/logo.png"
                style="left: 0"
                width="50px"
              />
            </div>
            <div>
              <h2 class="title-text">浮声</h2>
            </div>
          </div>
          <div class="menu"></div>
        </div>
      </div>
      <div class="main">
        <div class="header">
          <div class="platforms-container">
            <!-- 平台将会生成在这里显示 -->
          </div>
          <div class="header-right-container">
            <div class="search">
              <svg
                aria-labelledby="searchIconTitle"
                color="#000"
                fill="none"
                height="32px"
                role="img"
                stroke="var(--text-primary)"
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="3"
                style="
                  margin-left: 5px;
                  display: flex;
                  width: 32px;
                  height: 32px;
                  cursor: default;
                "
                viewBox="0 0 24 24"
                width="32px"
                xmlns="http://www.w3.org/2000/svg"
              >
                <title id="searchIconTitle">Search</title>
                <path d="M14.4121122,14.4121122 L20,20" />
                <circle cx="10" cy="10" r="6" />
              </svg>
              <input
                id="searchInput"
                placeholder="搜索"
                style="
                  width: 174px;
                  background-color: transparent;
                  border-style: none;
                  font-size: 16px;
                  font-weight: 600;
                  color: var(--text-primary);
                  outline: none;
                  user-select: none;
                "
                type="text"
              />
            </div>
            <div class="button" id="home" onclick="displayhome()">
              <svg
                role="img"
                xmlns="http://www.w3.org/2000/svg"
                width="32px"
                height="32px"
                viewBox="0 0 24 24"
                aria-labelledby="homeAltIconTitle"
                stroke="var(--text-primary)"
                stroke-width="1.7142857142857142"
                stroke-linecap="round"
                stroke-linejoin="round"
                fill="none"
                color="#000"
              >
                <title id="homeAltIconTitle">主页</title>
                <path d="M3 10.182V22h18V10.182L12 2z" />
                <rect width="6" height="8" x="9" y="14" />
              </svg>
            </div>
            <div class="button" id="theme">
              <svg
                aria-labelledby="brightnessIconTitle"
                color="#000"
                fill="none"
                height="32px"
                stroke="var(--text-primary)"
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="1.7142857142857142"
                viewBox="0 0 24 24"
                width="32px"
                xmlns="http://www.w3.org/2000/svg"
              >
                <title id="brightnessIconTitle">主题</title>
                <path
                  d="M15 6L12 3L9.00001 6H6.00001V9L3 12L6.00001 15V18H8.99999L12 21L15 18H18V15L21 12L18 9V6H15Z"
                />
                <path
                  d="M16 12C16 9.79086 14.2091 8 12 8V16C14.2091 16 16 14.2091 16 12Z"
                />
              </svg>
            </div>
            <div class="button" id="user">
              <svg
                aria-labelledby="peopleIconTitle"
                color="#000"
                fill="none"
                height="32px"
                role="img"
                stroke="var(--text-primary)"
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="1.7142857142857142"
                viewBox="0 0 24 24"
                width="32px"
                xmlns="http://www.w3.org/2000/svg"
              >
                <title id="peopleIconTitle">账号</title>
                <path
                  d="M1 18C1 15.75 4 15.75 5.5 14.25 6.25 13.5 4 13.5 4 9.75 4 7.25025 4.99975 6 7 6 9.00025 6 10 7.25025 10 9.75 10 13.5 7.75 13.5 8.5 14.25 10 15.75 13 15.75 13 18M12.7918114 15.7266684C13.2840551 15.548266 13.6874862 15.3832994 14.0021045 15.2317685 14.552776 14.9665463 15.0840574 14.6659426 15.5 14.25 16.25 13.5 14 13.5 14 9.75 14 7.25025 14.99975 6 17 6 19.00025 6 20 7.25025 20 9.75 20 13.5 17.75 13.5 18.5 14.25 20 15.75 23 15.75 23 18"
                />
                <path
                  d="M12,16 C12.3662741,15.8763472 12.6302112,15.7852366 12.7918114,15.7266684"
                  stroke-linecap="round"
                />
              </svg>
            </div>
            <div class="button" id="setting">
              <svg
                aria-labelledby="settingsIconTitle"
                color="#000"
                fill="none"
                height="32px"
                role="img"
                stroke="var(--text-primary)"
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="1.7142857142857142"
                viewBox="0 0 24 24"
                width="32px"
                xmlns="http://www.w3.org/2000/svg"
              >
                <title id="settingsIconTitle">设置</title>
                <path
                  d="M5.03506429,12.7050339 C5.01187484,12.4731696 5,12.2379716 5,12 C5,11.7620284 5.01187484,11.5268304 5.03506429,11.2949661 L3.20577137,9.23205081 L5.20577137,5.76794919 L7.9069713,6.32070904 C8.28729123,6.0461342 8.69629298,5.80882212 9.12862533,5.61412402 L10,3 L14,3 L14.8713747,5.61412402 C15.303707,5.80882212 15.7127088,6.0461342 16.0930287,6.32070904 L18.7942286,5.76794919 L20.7942286,9.23205081 L18.9649357,11.2949661 C18.9881252,11.5268304 19,11.7620284 19,12 C19,12.2379716 18.9881252,12.4731696 18.9649357,12.7050339 L20.7942286,14.7679492 L18.7942286,18.2320508 L16.0930287,17.679291 C15.7127088,17.9538658 15.303707,18.1911779 14.8713747,18.385876 L14,21 L10,21 L9.12862533,18.385876 C8.69629298,18.1911779 8.28729123,17.9538658 7.9069713,17.679291 L5.20577137,18.2320508 L3.20577137,14.7679492 L5.03506429,12.7050339 Z"
                />
                <circle cx="12" cy="12" r="1" />
              </svg>
            </div>
          </div>
        </div>
        <div class="content">
          <div class="platforms-home">
            <div class="platforms-home-tags">
              <!--动态生成类型-->
            </div>
            <ul class="platforms-home-list">
              <!--动态生成歌单-->
            </ul>
          </div>
          <div class="music-search-list" style="display: none">
            <!--动态生成搜索结果-->
          </div>
        </div>
      </div>
    </div>
    <div class="list list-fold">
      <div class="list-title">
        <h2 style="margin: 0">播放列表</h2>
        <div
          onclick="del_all_songs()"
          style="
            display: flex;
            margin-right: 5%;
            width: auto;
            cursor: pointer;
            user-select: none;
          "
        >
          <p style="color: #f50100; margin: 0">清空</p>
          <svg
            role="img"
            xmlns="http://www.w3.org/2000/svg"
            width="1.25rem"
            height="1.25rem"
            viewBox="0 0 24 24"
            aria-labelledby="binIconTitle"
            stroke="#f50100"
            stroke-width="1.7142857142857142"
            stroke-linecap="round"
            stroke-linejoin="round"
            fill="none"
            color="#000"
          >
            <title id="binIconTitle">删除</title>
            <path
              d="M19 6L5 6M14 5L10 5M6 10L6 20C6 20.6666667 6.33333333 21 7 21 7.66666667 21 11 21 17 21 17.6666667 21 18 20.6666667 18 20 18 19.3333333 18 16 18 10"
            />
          </svg>
        </div>
      </div>
      <div
        class="list-content"
        style="display: flex; flex: 1; flex-direction: column; overflow-y: auto"
      >
        <!-- 此处是播放列表 -->
      </div>
    </div>
    <div class="footer">
      <div class="footer-info">
        <div class="footer-info-left">
          <img
            alt="cover"
            id="footer-info-cover"
            src=""
            style="height: 54vh; width: 54vh; object-fit: cover; margin: 8% 0"
          />
          <div
            style="
              display: flex;
              flex-direction: column;
              text-align: left;
              width: 54vh;
              font-size: 1.2rem;
            "
          >
            <h3
              class="song-title"
              id="song-title"
              style="color: var(--text-primary); margin: 1px 0"
            ></h3>
            <p
              id="song-singer"
              style="margin: 1px 0; color: var(--text-secondary)"
            ></p>
          </div>
        </div>
        <div id="lyric-container">
          <ul id="lyric-list">
            <!-- 歌词行将由 JS 动态插入 -->
          </ul>
        </div>
      </div>
    </div>
    <div class="footer-container">
      <div class="footer-left">
        <div
          class="button"
          id="list-button"
          onclick="fetchAndRenderPlaylist()"
          style="margin-left: 1.5rem"
        >
          <svg
            aria-labelledby="listIconTitle"
            color="#000"
            fill="none"
            height="48px"
            role="img"
            stroke="var(--text-primary)"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            viewBox="0 0 24 24"
            width="48px"
            xmlns="http://www.w3.org/2000/svg"
          >
            <title id="listIconTitle">列表</title>
            <path d="M10 7L18 7M10 12L18 12M10 17L18 17" />
            <line x1="7" x2="7" y1="7" y2="7" />
            <line x1="7" x2="7" y1="12" y2="12" />
            <line x1="7" x2="7" y1="17" y2="17" />
          </svg>
        </div>
        <div
          style="
            background-color: var(--text-secondary);
            width: 1px;
            height: 48px;
            border-radius: 50%;
            margin: 0 1rem;
          "
        ></div>
        <div class="music-name">
          <h3
            class="song-title"
            id="song-title"
            style="color: var(--text-primary); margin: 1px 0"
          ></h3>
          <p
            id="song-singer"
            style="
              margin: 1px 0;
              color: var(--text-secondary);
              text-align: left;
            "
          ></p>
        </div>
      </div>
      <div class="footer-center">
        <div class="music-player-container">
          <div class="music-control prev" id="prev-audio">
            <!-- 左侧竖直椭圆，显示歌曲封面 -->
            <img
              alt="Previous Song Cover"
              class="song-cover"
              id="last-song-cover"
              src="res/last-song-cover.png"
            />
            <div class="music-control-icon">
              <svg
                aria-labelledby="previousIconTitle"
                class="overlay-icon"
                color="#000"
                fill="var(--color-primary)"
                height="24px"
                role="img"
                stroke="var(--color-primary)"
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2.142857142857143"
                viewBox="0 0 24 24"
                width="24px"
                xmlns="http://www.w3.org/2000/svg"
              >
                <title id="previousIconTitle">上一首</title>
                <path d="M7 11.5L18 18V5z" />
                <path d="M6 18V5" />
              </svg>
            </div>
          </div>
          <div class="music-control play-pause" id="play-pause">
            <!-- 中间圆，显示歌曲封面 -->
            <img
              alt="Current Song Cover"
              class="song-cover"
              id="current-song-cover"
              src="res/current-song-cover.png"
            />
            <div class="music-control-icon">
              <svg
                aria-labelledby="playIconTitle"
                class="play-button"
                color="#000"
                fill="var(--color-primary)"
                height="48px"
                id="play-icon"
                id="playPauseButton"
                role="img"
                stroke="var(--color-primary)"
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="1.7142857142857142"
                style="display: block"
                viewBox="0 0 24 24"
                width="48px"
                xmlns="http://www.w3.org/2000/svg"
              >
                <title id="playIconTitle">播放</title>
                <path d="M20 12L5 21V3z" />
              </svg>
              <svg
                aria-labelledby="pauseIconTitle"
                color="#000"
                fill="var(--color-primary)"
                height="48px"
                id="pause-icon"
                role="img"
                stroke="var(--color-primary)"
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="1.7142857142857142"
                style="display: none"
                viewBox="0 0 24 24"
                width="48px"
                xmlns="http://www.w3.org/2000/svg"
              >
                <title id="pauseIconTitle">Pause</title>
                <rect height="16" width="4" x="5" y="4" />
                <rect height="16" width="4" x="15" y="4" />
              </svg>
            </div>
          </div>
          <div class="music-control next" id="next-audio">
            <!-- 右侧竖直椭圆，显示歌曲封面 -->
            <img
              alt="Next Song Cover"
              class="song-cover"
              id="next-song-cover"
              src="res/next-song-cover.png"
            />
            <div class="music-control-icon">
              <svg
                aria-labelledby="nextIconTitle"
                class="overlay-icon"
                color="#000"
                fill="var(--color-primary)"
                height="24px"
                role="img"
                stroke="var(--color-primary)"
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2.142857142857143"
                viewBox="0 0 24 24"
                width="24px"
                xmlns="http://www.w3.org/2000/svg"
              >
                <title id="nextIconTitle">下一首</title>
                <path d="M17 11.5L6 18V5z" />
                <path d="M18 18V5" />
              </svg>
            </div>
          </div>
        </div>
        <div class="music-progress-container">
          <input
            class="custom-range"
            id="progressBar"
            max="100"
            min="0"
            step="0.1"
            type="range"
            value="0"
          />
          <input
            class="custom-range"
            id="volumeBar"
            max="1"
            min="0"
            step="0.01"
            type="range"
            value="1"
          />
        </div>
      </div>
      <div class="footer-right">
        <div
          class="button"
          id="loop-button"
          onclick="toggleLoopMode()"
          style="width: 32px; height: 32px"
        >
          <svg
            aria-labelledby="rotateIconTitle"
            color="#000"
            fill="none"
            height="32px"
            id="loop-list"
            role="img"
            stroke="var(--text-primary)"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="1.7142857142857142"
            style="display: block"
            viewBox="0 0 24 24"
            width="32px"
            xmlns="http://www.w3.org/2000/svg"
          >
            <title id="rotateIconTitle">顺序</title>
            <path d="M22 12l-3 3-3-3" />
            <path d="M2 12l3-3 3 3" />
            <path d="M19.016 14v-1.95A7.05 7.05 0 0 0 8 6.22" />
            <path d="M16.016 17.845A7.05 7.05 0 0 1 5 12.015V10" />
            <path d="M5 10V9" stroke-linecap="round" />
            <path d="M19 15v-1" stroke-linecap="round" />
          </svg>
          <svg
            aria-labelledby="rotateIconTitle"
            color="#000"
            fill="none"
            height="32px"
            id="loop-single"
            role="img"
            stroke="var(--text-primary)"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="1.7142857142857142"
            style="display: none"
            viewBox="0 0 24 24"
            width="32px"
            xmlns="http://www.w3.org/2000/svg"
          >
            <title id="rotateIconTitle">单曲</title>
            <path d="M22 12l-3 3-3-3" />
            <path d="M2 12l3-3 3 3" />
            <path d="M19.016 14v-1.95A7.05 7.05 0 0 0 8 6.22" />
            <path d="M16.016 17.845A7.05 7.05 0 0 1 5 12.015V10" />
            <path d="M5 10V9" stroke-linecap="round" />
            <path d="M19 15v-1" stroke-linecap="round" />
            <text
              fill="black"
              font-size="8"
              font-weight="90"
              text-anchor="middle"
              x="12"
              y="15"
            >
              1
            </text>
          </svg>
          <svg
            aria-labelledby="shuffleIconTitle"
            color="#000"
            fill="none"
            height="32px"
            id="loop-random"
            role="img"
            stroke="var(--text-primary)"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="1.7142857142857142"
            style="display: none"
            viewBox="0 0 24 24"
            width="32px"
            xmlns="http://www.w3.org/2000/svg"
          >
            <title id="shuffleIconTitle">随机</title>
            <path
              d="M21 16.0399H17.7707C15.8164 16.0399 13.9845 14.9697 12.8611 13.1716L10.7973 9.86831C9.67384 8.07022 7.84196 7 5.88762 7L3 7"
            />
            <path
              d="M21 7H17.7707C15.8164 7 13.9845 8.18388 12.8611 10.1729L10.7973 13.8271C9.67384 15.8161 7.84196 17 5.88762 17L3 17"
            />
            <path d="M19 4L22 7L19 10" />
            <path d="M19 13L22 16L19 19" />
          </svg>
        </div>
        <div
          class="button"
          style="width: 32px; height: 32px"
          onclick="toggleLyrics()"
        >
          <svg
            t="1659418908628"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="1413"
            height="24px"
            width="24px"
            stroke="var(--text-primary)"
          >
            <path
              d="M512 1024C230.4 1024 0 793.6 0 512S230.4 0 512 0s512 230.4 512 512-230.4 512-512 512z m0-960C265.6 64 64 265.6 64 512s201.6 448 448 448 448-201.6 448-448S758.4 64 512 64z m268.8 422.4c-60.8-6.4-118.4-22.4-169.6-51.2-54.4 25.6-115.2 44.8-172.8 57.6l-28.8-51.2c51.2-9.6 102.4-25.6 150.4-44.8-32-28.8-57.6-64-70.4-105.6H448V240h304v51.2c-19.2 44.8-48 83.2-86.4 112 44.8 16 89.6 28.8 134.4 32l-19.2 51.2z m-92.8-192H544c16 32 38.4 57.6 67.2 76.8 28.8-19.2 57.6-44.8 76.8-76.8zM265.6 265.6L307.2 224c38.4 28.8 70.4 57.6 102.4 92.8l-41.6 41.6c-28.8-35.2-64-67.2-102.4-92.8z m99.2 396.8c16-16 32-35.2 51.2-54.4l16 64c-35.2 38.4-73.6 76.8-115.2 108.8l-22.4-54.4c9.6-9.6 16-22.4 16-35.2v-227.2H224v-57.6h140.8v256z m214.4-83.2h-112v-54.4h112v-51.2h57.6v51.2h121.6v54.4h-121.6V640h150.4v57.6h-150.4V800h-57.6v-102.4h-137.6V640h137.6v-60.8z"
              fill="var(--text-primary)"
              p-id="1414"
            ></path>
          </svg>
        </div>
        <div class="fold button" style="margin-right: 30px">
          <svg
            aria-labelledby="chevronDownIconTitle"
            class="footer-button-fold"
            color="#000"
            fill="none"
            height="32px"
            onclick="footer_fold()"
            role="img"
            stroke="var(--text-primary)"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="1.7142857142857142"
            style="cursor: pointer; transition: transform 0.3s ease"
            viewBox="0 0 24 24"
            width="32px"
            xmlns="http://www.w3.org/2000/svg"
          >
            <title id="chevronDownIconTitle">展开</title>
            <polyline points="6 10 12 16 18 10" />
          </svg>
        </div>
      </div>
    </div>
    <script src="js/interaction.js"></script>
    <script src="js/platforms.js"></script>
    <script src="js/button-interactions.js"></script>
    <script src="js/audio-control.js"></script>
  </body>
</html>
